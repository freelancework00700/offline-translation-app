<ion-content [fullscreen]="true" class="ion-padding">
  <ion-list class="language-list">
    @for (lang of languages(); track $index) {
      <ion-item class="list-item-container">
        <ion-label class="language-label">
          <h2>{{ lang.name }}</h2>
        </ion-label>

        <!-- If language model is downloaded -->
        @if (isDownloaded(lang.code)) {
          <ion-icon name="checkmark-circle" color="success" slot="end" class="download-progress" />
        }

        <!-- If language model is downloading -->
        @if (downloadProgress()[lang.code]) {
          <div class="download-progress">
            <ion-spinner name="lines-sharp" class="black-spinner" />
            <span class="progress-text"> {{ downloadProgress()[lang.code] | number: '1.0-0' }}% </span>
          </div>
        }

        <!-- If language model is not downloaded and no progress -->
        @if (!isDownloaded(lang.code) && !downloadProgress()[lang.code]) {
          <ion-button color="primary" size="small" fill="clear" (click)="downloadModel(lang)" [disabled]="isDownloading()" slot="end">
            <ion-icon name="cloud-download-outline" />
          </ion-button>
        }
      </ion-item>
    }
  </ion-list>
</ion-content>
